(()=>{let t=[];const n=()=>{const n=document.getElementById("cartItems");n.innerHTML="";let e=0,a=0;t.forEach(((t,i)=>{const o=t.price_end*t.quantity;e+=o,a+=t.price*t.quantity;const d=document.createElement("div");d.className="bg-white shadow-md rounded-lg overflow-hidden flex items-center",d.innerHTML=`\n                <img src="${t.image}" alt="${t.name}" class="w-20 h-20 object-contain mr-4">\n                <div class="flex-1">\n                    <h3 class="text-lg font-semibold">${t.name}</h3>\n                    <p class="text-gray-600">Cantidad: ${t.quantity}</p>\n                    <p class="text-gray-600">Unidad: ${t.price_end}</p>\n                    <p class="text-gray-600">Precio: S/${o.toFixed(2)}</p>\n                </div>\n                <div class="px-4 py-2">\n                    <button class="text-red-500" onclick="removeFromCart(${i})">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </div>\n            `,n.appendChild(d)})),document.getElementById("totalPrice").innerText=`Total: S/${e.toFixed(2)} | Ahorro: S/${(a-e).toFixed(2)}`};window.addToCart=function(e){const a=t.find((t=>t.name===e.name));a?a.quantity++:t.push({...e,quantity:1}),n()},window.updateQuantity=function(e,a){t[e].quantity=parseInt(a),n()},window.removeFromCart=function(e){t.splice(e,1),n()},document.getElementById("cartButton").addEventListener("click",(()=>{const t=document.getElementById("cart");t.style.display="none"===t.style.display||""===t.style.display?"block":"none",n()}))})();