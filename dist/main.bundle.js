(()=>{"use strict";class t{constructor(t,e,s,n,o,i,c,a,r,d){this.id_product=t,this.name=e,this.category=s,this.description=n,this.image=o,this.price=i,this.price_end=c,this.stock=a,this.message_stock=r,this.state=d}}let e=[];window.filterProducts=function(t){const s=document.getElementById("product-list");s.innerHTML="",("todos"===t?e:e.filter((e=>e.category===t))).forEach(((t,e)=>{const n=`desc-${e}`,o=document.createElement("div");o.className="bg-white shadow-md rounded-lg overflow-hidden transition-transform transform hover:scale-105",o.innerHTML=`\n                    <img src="${t.image}" alt="${t.name}" class="w-full h-64 object-contain mx-auto">\n\n                    <div class="p-4">\n                        <h2 class="text-xl font-semibold">${t.name}</h2>\n                        <p class="text-gray-600">\n                            <span class="${"Disponible"===t.message_stock?"text-green-500":"Limitado"===t.message_stock?"text-yellow-500":"text-red-500"}">\n                                ${t.message_stock}\n                            </span>\n                        </p>\n                        <button class="mt-2 text-gray-500" onclick="toggleDescription('${n}')">\n                            <i class="fas fa-eye"></i> Ver descripci√≥n\n                        </button>\n                        <div id="${n}" class="description-content text-gray-500 mt-2 text-sm">\n                            ${t.description}\n                        </div>\n                        <div class="flex items-center justify-between">\n                            <div>\n                                <p class="text-small mt-2">\n                                <strong class="font-semibold">Precio:</strong> S/${t.price_end.toFixed(2)} \n                                <span class="line-through text-gray-500"> (S/${t.price.toFixed(2)})</span>\n                                </p>\n                            </div>\n                            <button class="mt-2 bg-blue-500 text-white px-4 py-2 rounded" onclick="addToCart(${JSON.stringify(t).replace(/"/g,"&quot;")})">\n                                <i class="fas fa-plus"></i>\n                            </button>\n                        </div>\n\n                    </div>\n                `,s.appendChild(o)}))},window.toggleDescription=function(t){document.querySelectorAll(".description-content").forEach((e=>{e.id!==t&&e.classList.remove("show")}));const e=document.getElementById(t);e&&e.classList.toggle("show")},async function(){try{const s=await async function(){const e=await fetch("data.json");if(!e.ok)throw new Error("Error al cargar los productos");return(await e.json()).map((e=>new t(e.id_product,e.name,e.category,e.description,e.image,e.price,e.price_end,e.stock,e.message_stock,e.state)))}();e=s,filterProducts("todos")}catch(t){console.error("Error:",t)}}()})();